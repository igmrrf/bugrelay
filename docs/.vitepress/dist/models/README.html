<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Models Documentation | BugRelay Backend Documentation</title>
    <meta name="description" content="Comprehensive documentation for the BugRelay backend API">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.CxVxhte8.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Clu5yA6f.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DNGrOENv.js">
    <link rel="modulepreload" href="/assets/chunks/framework.B-XtCDNB.js">
    <link rel="modulepreload" href="/assets/models_README.md.CI2AJO8N.lean.js">
    <meta name="theme-color" content="#3c82f6">
    <meta name="og:type" content="website">
    <meta name="og:locale" content="en">
    <meta name="og:title" content="BugRelay Backend Documentation">
    <meta name="og:site_name" content="BugRelay Docs">
    <meta name="og:image" content="/og-image.png">
    <meta name="og:url" content="https://docs.bugrelay.com/">
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>BugRelay Backend Documentation</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search docs"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search docs</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/api/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>API Reference</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guides/quick-start" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Quick Start</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/models/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Models</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/authentication/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Authentication</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/deployment/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Deployment</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/your-org/bugrelay" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/your-org/bugrelay" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Data Models</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/models/" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/models/data-models" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Model Documentation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/models/relationships" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Relationships</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/models/schemas" data-v-0009425e><!--[--><p class="text" data-v-0009425e>JSON Schemas</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _models_README" data-v-e6f2a212><div><h1 id="data-models-documentation" tabindex="-1">Data Models Documentation <a class="header-anchor" href="#data-models-documentation" aria-label="Permalink to &quot;Data Models Documentation&quot;">​</a></h1><p>This document provides comprehensive documentation of the BugRelay backend database schema, including all tables, fields, constraints, and performance considerations.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>The BugRelay backend uses PostgreSQL as its primary database with the following key features:</p><ul><li>UUID primary keys for all entities</li><li>Full-text search capabilities using PostgreSQL&#39;s GIN indexes</li><li>Comprehensive indexing strategy for performance optimization</li><li>Soft deletes for bug reports</li><li>Audit logging for administrative actions</li></ul><h2 id="database-tables" tabindex="-1">Database Tables <a class="header-anchor" href="#database-tables" aria-label="Permalink to &quot;Database Tables&quot;">​</a></h2><h3 id="core-entity-tables" tabindex="-1">Core Entity Tables <a class="header-anchor" href="#core-entity-tables" aria-label="Permalink to &quot;Core Entity Tables&quot;">​</a></h3><h4 id="users" tabindex="-1">users <a class="header-anchor" href="#users" aria-label="Permalink to &quot;users&quot;">​</a></h4><p><strong>Purpose</strong>: Stores user account information and authentication data</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique user identifier</td></tr><tr><td>email</td><td>VARCHAR(255)</td><td>UNIQUE, NOT NULL</td><td>-</td><td>User&#39;s email address</td></tr><tr><td>display_name</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>-</td><td>User&#39;s display name</td></tr><tr><td>avatar_url</td><td>TEXT</td><td>-</td><td>NULL</td><td>URL to user&#39;s avatar image</td></tr><tr><td>password_hash</td><td>VARCHAR(255)</td><td>-</td><td>NULL</td><td>bcrypt hash of password (null for OAuth-only users)</td></tr><tr><td>auth_provider</td><td>VARCHAR(20)</td><td>NOT NULL</td><td>&#39;email&#39;</td><td>Authentication provider (email, google, github)</td></tr><tr><td>auth_provider_id</td><td>VARCHAR(255)</td><td>-</td><td>NULL</td><td>OAuth provider user ID</td></tr><tr><td>is_email_verified</td><td>BOOLEAN</td><td>-</td><td>FALSE</td><td>Email verification status</td></tr><tr><td>email_verification_token</td><td>VARCHAR(255)</td><td>-</td><td>NULL</td><td>Token for email verification</td></tr><tr><td>password_reset_token</td><td>VARCHAR(255)</td><td>-</td><td>NULL</td><td>Token for password reset</td></tr><tr><td>password_reset_expires</td><td>TIMESTAMP</td><td>-</td><td>NULL</td><td>Password reset token expiration</td></tr><tr><td>is_admin</td><td>BOOLEAN</td><td>-</td><td>FALSE</td><td>Administrative privileges flag</td></tr><tr><td>created_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Account creation timestamp</td></tr><tr><td>last_active_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Last activity timestamp</td></tr></tbody></table><p><strong>Indexes</strong>:</p><ul><li><code>idx_users_email</code> - Unique email lookup</li><li><code>idx_users_auth_provider</code> - OAuth provider lookup</li><li><code>idx_users_last_active</code> - Activity-based queries</li><li><code>idx_users_email_verified</code> - Verified user queries</li></ul><h4 id="companies" tabindex="-1">companies <a class="header-anchor" href="#companies" aria-label="Permalink to &quot;companies&quot;">​</a></h4><p><strong>Purpose</strong>: Stores company information and verification status</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique company identifier</td></tr><tr><td>name</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>-</td><td>Company name</td></tr><tr><td>domain</td><td>VARCHAR(255)</td><td>UNIQUE, NOT NULL</td><td>-</td><td>Company domain for verification</td></tr><tr><td>is_verified</td><td>BOOLEAN</td><td>-</td><td>FALSE</td><td>Verification status</td></tr><tr><td>verification_token</td><td>VARCHAR(255)</td><td>-</td><td>NULL</td><td>Token for domain verification</td></tr><tr><td>verification_email</td><td>VARCHAR(255)</td><td>-</td><td>NULL</td><td>Email used for verification</td></tr><tr><td>verified_at</td><td>TIMESTAMP</td><td>-</td><td>NULL</td><td>Verification completion timestamp</td></tr><tr><td>created_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Company registration timestamp</td></tr><tr><td>updated_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Last update timestamp</td></tr></tbody></table><p><strong>Indexes</strong>:</p><ul><li><code>idx_companies_name_trgm</code> - Fuzzy name search using trigrams</li><li><code>idx_companies_verified</code> - Verified company queries</li></ul><h4 id="applications" tabindex="-1">applications <a class="header-anchor" href="#applications" aria-label="Permalink to &quot;applications&quot;">​</a></h4><p><strong>Purpose</strong>: Stores application information that can receive bug reports</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique application identifier</td></tr><tr><td>name</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>-</td><td>Application name</td></tr><tr><td>url</td><td>TEXT</td><td>-</td><td>NULL</td><td>Application URL</td></tr><tr><td>company_id</td><td>UUID</td><td>FOREIGN KEY → companies(id)</td><td>NULL</td><td>Associated company</td></tr><tr><td>created_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Application creation timestamp</td></tr></tbody></table><p><strong>Indexes</strong>:</p><ul><li><code>idx_applications_name_trgm</code> - Fuzzy name search using trigrams</li></ul><h4 id="bug-reports" tabindex="-1">bug_reports <a class="header-anchor" href="#bug-reports" aria-label="Permalink to &quot;bug_reports&quot;">​</a></h4><p><strong>Purpose</strong>: Core table storing bug report information and metadata</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique bug report identifier</td></tr><tr><td>title</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>-</td><td>Bug report title</td></tr><tr><td>description</td><td>TEXT</td><td>NOT NULL</td><td>-</td><td>Detailed bug description</td></tr><tr><td>status</td><td>VARCHAR(20)</td><td>-</td><td>&#39;open&#39;</td><td>Bug status (open, reviewing, fixed, wont_fix)</td></tr><tr><td>priority</td><td>VARCHAR(20)</td><td>-</td><td>&#39;medium&#39;</td><td>Bug priority (low, medium, high, critical)</td></tr><tr><td>tags</td><td>TEXT[]</td><td>-</td><td>NULL</td><td>Array of tags for categorization</td></tr><tr><td>operating_system</td><td>VARCHAR(100)</td><td>-</td><td>NULL</td><td>OS where bug occurred</td></tr><tr><td>device_type</td><td>VARCHAR(100)</td><td>-</td><td>NULL</td><td>Device type information</td></tr><tr><td>app_version</td><td>VARCHAR(50)</td><td>-</td><td>NULL</td><td>Application version</td></tr><tr><td>browser_version</td><td>VARCHAR(100)</td><td>-</td><td>NULL</td><td>Browser version information</td></tr><tr><td>application_id</td><td>UUID</td><td>FOREIGN KEY → applications(id), NOT NULL</td><td>-</td><td>Associated application</td></tr><tr><td>reporter_id</td><td>UUID</td><td>FOREIGN KEY → users(id)</td><td>NULL</td><td>Bug reporter (null for anonymous)</td></tr><tr><td>assigned_company_id</td><td>UUID</td><td>FOREIGN KEY → companies(id)</td><td>NULL</td><td>Company assigned to handle bug</td></tr><tr><td>vote_count</td><td>INTEGER</td><td>-</td><td>0</td><td>Number of upvotes</td></tr><tr><td>comment_count</td><td>INTEGER</td><td>-</td><td>0</td><td>Number of comments</td></tr><tr><td>created_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Bug report creation timestamp</td></tr><tr><td>updated_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Last update timestamp</td></tr><tr><td>deleted_at</td><td>TIMESTAMP</td><td>-</td><td>NULL</td><td>Soft delete timestamp</td></tr><tr><td>resolved_at</td><td>TIMESTAMP</td><td>-</td><td>NULL</td><td>Resolution timestamp</td></tr></tbody></table><p><strong>Indexes</strong>:</p><ul><li><code>idx_bug_reports_status</code> - Status-based filtering</li><li><code>idx_bug_reports_created_at</code> - Chronological sorting</li><li><code>idx_bug_reports_vote_count</code> - Popularity sorting</li><li><code>idx_bug_reports_application_id</code> - Application-specific queries</li><li><code>idx_bug_reports_company_id</code> - Company-assigned bugs</li><li><code>idx_bug_reports_fulltext_search</code> - Full-text search on title and description</li><li><code>idx_bug_reports_tags_gin</code> - Tag-based filtering</li><li><code>idx_bug_reports_trending</code> - Trending bugs (recent + high votes)</li><li><code>idx_bug_reports_open_recent</code> - Recent open bugs</li><li><code>idx_bug_reports_high_priority</code> - High priority bugs</li></ul><h3 id="relationship-tables" tabindex="-1">Relationship Tables <a class="header-anchor" href="#relationship-tables" aria-label="Permalink to &quot;Relationship Tables&quot;">​</a></h3><h4 id="company-members" tabindex="-1">company_members <a class="header-anchor" href="#company-members" aria-label="Permalink to &quot;company_members&quot;">​</a></h4><p><strong>Purpose</strong>: Many-to-many relationship between users and companies</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique membership identifier</td></tr><tr><td>company_id</td><td>UUID</td><td>FOREIGN KEY → companies(id), NOT NULL</td><td>-</td><td>Company reference</td></tr><tr><td>user_id</td><td>UUID</td><td>FOREIGN KEY → users(id), NOT NULL</td><td>-</td><td>User reference</td></tr><tr><td>role</td><td>VARCHAR(20)</td><td>-</td><td>&#39;member&#39;</td><td>User role in company (member, admin)</td></tr><tr><td>added_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Membership creation timestamp</td></tr></tbody></table><p><strong>Constraints</strong>:</p><ul><li>UNIQUE(company_id, user_id) - Prevents duplicate memberships</li></ul><p><strong>Indexes</strong>:</p><ul><li><code>idx_company_members_company_user</code> - Membership lookup</li><li><code>idx_company_members_user_role</code> - User role queries</li></ul><h4 id="bug-votes" tabindex="-1">bug_votes <a class="header-anchor" href="#bug-votes" aria-label="Permalink to &quot;bug_votes&quot;">​</a></h4><p><strong>Purpose</strong>: Tracks user votes on bug reports</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique vote identifier</td></tr><tr><td>bug_id</td><td>UUID</td><td>FOREIGN KEY → bug_reports(id), NOT NULL</td><td>-</td><td>Bug report reference</td></tr><tr><td>user_id</td><td>UUID</td><td>FOREIGN KEY → users(id), NOT NULL</td><td>-</td><td>User reference</td></tr><tr><td>created_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Vote timestamp</td></tr></tbody></table><p><strong>Constraints</strong>:</p><ul><li>UNIQUE(bug_id, user_id) - Prevents duplicate votes</li></ul><p><strong>Indexes</strong>:</p><ul><li><code>idx_bug_votes_bug_user</code> - Vote lookup and duplicate prevention</li><li><code>idx_bug_votes_user_created</code> - User voting history</li></ul><h4 id="comments" tabindex="-1">comments <a class="header-anchor" href="#comments" aria-label="Permalink to &quot;comments&quot;">​</a></h4><p><strong>Purpose</strong>: Stores comments on bug reports</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique comment identifier</td></tr><tr><td>bug_id</td><td>UUID</td><td>FOREIGN KEY → bug_reports(id), NOT NULL</td><td>-</td><td>Bug report reference</td></tr><tr><td>user_id</td><td>UUID</td><td>FOREIGN KEY → users(id), NOT NULL</td><td>-</td><td>Comment author</td></tr><tr><td>content</td><td>TEXT</td><td>NOT NULL</td><td>-</td><td>Comment content</td></tr><tr><td>is_company_response</td><td>BOOLEAN</td><td>-</td><td>FALSE</td><td>Flag for official company responses</td></tr><tr><td>created_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Comment creation timestamp</td></tr><tr><td>updated_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Last update timestamp</td></tr></tbody></table><p><strong>Indexes</strong>:</p><ul><li><code>idx_comments_bug_created</code> - Bug-specific comment listing</li><li><code>idx_comments_user_created</code> - User comment history</li><li><code>idx_comments_company_response</code> - Company response filtering</li></ul><h4 id="file-attachments" tabindex="-1">file_attachments <a class="header-anchor" href="#file-attachments" aria-label="Permalink to &quot;file_attachments&quot;">​</a></h4><p><strong>Purpose</strong>: Stores file attachments for bug reports</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique attachment identifier</td></tr><tr><td>bug_id</td><td>UUID</td><td>FOREIGN KEY → bug_reports(id), NOT NULL</td><td>-</td><td>Bug report reference</td></tr><tr><td>filename</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>-</td><td>Original filename</td></tr><tr><td>file_url</td><td>TEXT</td><td>NOT NULL</td><td>-</td><td>URL to stored file</td></tr><tr><td>file_size</td><td>INTEGER</td><td>-</td><td>NULL</td><td>File size in bytes</td></tr><tr><td>mime_type</td><td>VARCHAR(100)</td><td>-</td><td>NULL</td><td>File MIME type</td></tr><tr><td>uploaded_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Upload timestamp</td></tr></tbody></table><p><strong>Indexes</strong>:</p><ul><li><code>idx_file_attachments_bug</code> - Bug-specific attachment listing</li></ul><h3 id="security-and-audit-tables" tabindex="-1">Security and Audit Tables <a class="header-anchor" href="#security-and-audit-tables" aria-label="Permalink to &quot;Security and Audit Tables&quot;">​</a></h3><h4 id="jwt-blacklist" tabindex="-1">jwt_blacklist <a class="header-anchor" href="#jwt-blacklist" aria-label="Permalink to &quot;jwt_blacklist&quot;">​</a></h4><p><strong>Purpose</strong>: Tracks invalidated JWT tokens for security</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique blacklist entry identifier</td></tr><tr><td>token_jti</td><td>VARCHAR(255)</td><td>UNIQUE, NOT NULL</td><td>-</td><td>JWT ID claim</td></tr><tr><td>user_id</td><td>UUID</td><td>FOREIGN KEY → users(id), NOT NULL</td><td>-</td><td>Token owner</td></tr><tr><td>expires_at</td><td>TIMESTAMP</td><td>NOT NULL</td><td>-</td><td>Token expiration time</td></tr><tr><td>created_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Blacklist entry timestamp</td></tr></tbody></table><p><strong>Indexes</strong>:</p><ul><li><code>idx_jwt_blacklist_token</code> - Token validation lookup</li><li><code>idx_jwt_blacklist_expires</code> - Expired token cleanup</li><li><code>idx_jwt_blacklist_expires_token</code> - Active token validation</li></ul><h4 id="audit-logs" tabindex="-1">audit_logs <a class="header-anchor" href="#audit-logs" aria-label="Permalink to &quot;audit_logs&quot;">​</a></h4><p><strong>Purpose</strong>: Tracks administrative actions for security and compliance</p><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Constraints</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td>PRIMARY KEY</td><td>uuid_generate_v4()</td><td>Unique audit log identifier</td></tr><tr><td>action</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>-</td><td>Action performed</td></tr><tr><td>resource</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>-</td><td>Resource type affected</td></tr><tr><td>resource_id</td><td>UUID</td><td>-</td><td>NULL</td><td>Specific resource identifier</td></tr><tr><td>details</td><td>TEXT</td><td>-</td><td>NULL</td><td>Additional action details</td></tr><tr><td>user_id</td><td>UUID</td><td>FOREIGN KEY → users(id), NOT NULL</td><td>-</td><td>User who performed action</td></tr><tr><td>ip_address</td><td>VARCHAR(45)</td><td>-</td><td>NULL</td><td>IP address of user</td></tr><tr><td>user_agent</td><td>VARCHAR(500)</td><td>-</td><td>NULL</td><td>User agent string</td></tr><tr><td>created_at</td><td>TIMESTAMP</td><td>-</td><td>NOW()</td><td>Action timestamp</td></tr></tbody></table><p><strong>Indexes</strong>:</p><ul><li><code>idx_audit_logs_action</code> - Action-based filtering</li><li><code>idx_audit_logs_resource</code> - Resource-based filtering</li><li><code>idx_audit_logs_user_id</code> - User action history</li><li><code>idx_audit_logs_created_at</code> - Chronological queries</li></ul><h2 id="performance-considerations" tabindex="-1">Performance Considerations <a class="header-anchor" href="#performance-considerations" aria-label="Permalink to &quot;Performance Considerations&quot;">​</a></h2><h3 id="indexing-strategy" tabindex="-1">Indexing Strategy <a class="header-anchor" href="#indexing-strategy" aria-label="Permalink to &quot;Indexing Strategy&quot;">​</a></h3><ol><li><strong>Primary Indexes</strong>: All tables use UUID primary keys with automatic generation</li><li><strong>Unique Indexes</strong>: Email addresses, company domains, and composite keys for preventing duplicates</li><li><strong>Foreign Key Indexes</strong>: All foreign key relationships are indexed for join performance</li><li><strong>Full-Text Search</strong>: GIN indexes on bug report titles and descriptions for search functionality</li><li><strong>Composite Indexes</strong>: Multi-column indexes for common query patterns</li><li><strong>Partial Indexes</strong>: Conditional indexes for frequently filtered subsets</li></ol><h3 id="query-optimization" tabindex="-1">Query Optimization <a class="header-anchor" href="#query-optimization" aria-label="Permalink to &quot;Query Optimization&quot;">​</a></h3><ol><li><strong>Trending Bugs</strong>: Composite index on creation date and vote count for trending algorithms</li><li><strong>Tag Filtering</strong>: GIN index on tag arrays for efficient tag-based queries</li><li><strong>Fuzzy Search</strong>: Trigram indexes for approximate string matching on names</li><li><strong>Time-Based Queries</strong>: Optimized indexes for date range filtering</li><li><strong>Status Filtering</strong>: Partial indexes for common status-based queries</li></ol><h3 id="maintenance-operations" tabindex="-1">Maintenance Operations <a class="header-anchor" href="#maintenance-operations" aria-label="Permalink to &quot;Maintenance Operations&quot;">​</a></h3><ol><li><strong>Token Cleanup</strong>: Regular cleanup of expired JWT blacklist entries</li><li><strong>Soft Delete Cleanup</strong>: Periodic cleanup of soft-deleted bug reports</li><li><strong>Index Maintenance</strong>: Regular VACUUM and ANALYZE operations for optimal performance</li><li><strong>Statistics Updates</strong>: Automatic statistics updates for query planner optimization</li></ol><h2 id="data-integrity" tabindex="-1">Data Integrity <a class="header-anchor" href="#data-integrity" aria-label="Permalink to &quot;Data Integrity&quot;">​</a></h2><h3 id="foreign-key-constraints" tabindex="-1">Foreign Key Constraints <a class="header-anchor" href="#foreign-key-constraints" aria-label="Permalink to &quot;Foreign Key Constraints&quot;">​</a></h3><p>All relationships are enforced through foreign key constraints with appropriate cascading rules:</p><ul><li>User deletions cascade to related votes, comments, and audit logs</li><li>Bug report deletions cascade to votes, comments, and attachments</li><li>Company deletions cascade to applications and memberships</li></ul><h3 id="validation-rules" tabindex="-1">Validation Rules <a class="header-anchor" href="#validation-rules" aria-label="Permalink to &quot;Validation Rules&quot;">​</a></h3><ol><li><strong>Email Format</strong>: Email addresses are validated at the application level</li><li><strong>Status Values</strong>: Bug status and priority values are validated using enums</li><li><strong>UUID Format</strong>: All UUID fields are validated for proper format</li><li><strong>Required Fields</strong>: NOT NULL constraints enforce required data</li><li><strong>Unique Constraints</strong>: Prevent duplicate emails, domains, and votes</li></ol><h3 id="data-consistency" tabindex="-1">Data Consistency <a class="header-anchor" href="#data-consistency" aria-label="Permalink to &quot;Data Consistency&quot;">​</a></h3><ol><li><strong>Vote Counting</strong>: Vote counts are maintained through triggers or application logic</li><li><strong>Comment Counting</strong>: Comment counts are updated when comments are added/removed</li><li><strong>Timestamp Management</strong>: Created/updated timestamps are automatically managed</li><li><strong>Soft Deletes</strong>: Deleted records are marked with timestamps rather than physically removed</li></ol></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/your-org/bugrelay/edit/main/docs/models/README.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Last updated: <time datetime="2025-10-31T18:59:58.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/models/" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Overview</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Released under the MIT License.</p><p class="copyright" data-v-566314d4>Copyright © 2024 BugRelay</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api_endpoints_admin.md\":\"CHbb6Kaw\",\"api_endpoints_bugs.md\":\"BYL5KQHa\",\"api_endpoints_companies.md\":\"CdfgCyZ0\",\"api_examples_curl-examples.md\":\"DGfdPxA3\",\"api_examples_javascript-examples.md\":\"BUqKb1nL\",\"api_examples_python-examples.md\":\"v5jDVcuR\",\"api_examples_readme.md\":\"Bl01Tv0R\",\"api_index.md\":\"DS-jprSN\",\"api_openapi.md\":\"BNGv8M92\",\"api_readme.md\":\"D2vZ2W7k\",\"authentication_flows.md\":\"BYKUVp6R\",\"authentication_index.md\":\"DLKWh0hN\",\"authentication_oauth.md\":\"BKwHeY-S\",\"authentication_readme.md\":\"fH29l1JI\",\"authentication_security.md\":\"BxaN0not\",\"deployment_configuration.md\":\"DEhruOO8\",\"deployment_docker.md\":\"Riwv09ar\",\"deployment_index.md\":\"Dcrm6_js\",\"deployment_logging.md\":\"DC9cG0a-\",\"deployment_monitoring.md\":\"DNH5gLPS\",\"deployment_readme.md\":\"De1sU5H0\",\"deployment_setup-development.md\":\"CWhhb__z\",\"deployment_setup-production.md\":\"DFUbPF3E\",\"guides_integration-examples.md\":\"DQL548sd\",\"guides_quick-start.md\":\"B6L0NqAp\",\"guides_readme.md\":\"C8Hb6jm1\",\"guides_troubleshooting.md\":\"B9or0TKr\",\"index.md\":\"CxCEEemG\",\"maintenance.md\":\"CRF-FY-t\",\"mcp_ai-context.md\":\"MRoq8NCo\",\"mcp_readme.md\":\"Lem1-LO-\",\"models_data-models.md\":\"0XD62kuv\",\"models_index.md\":\"SzHWU5D2\",\"models_readme.md\":\"CI2AJO8N\",\"models_relationships.md\":\"C-W6mVQ7\",\"readme.md\":\"CpudUAd6\",\"setup.md\":\"DKLxQ9sM\",\"status.md\":\"CY4oT3TF\",\"testing.md\":\"Be3NRyGq\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"BugRelay Backend Documentation\",\"description\":\"Comprehensive documentation for the BugRelay backend API\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"API Reference\",\"link\":\"/api/\"},{\"text\":\"Quick Start\",\"link\":\"/guides/quick-start\"},{\"text\":\"Models\",\"link\":\"/models/\"},{\"text\":\"Authentication\",\"link\":\"/authentication/\"},{\"text\":\"Deployment\",\"link\":\"/deployment/\"}],\"sidebar\":{\"/api/\":[{\"text\":\"API Reference\",\"items\":[{\"text\":\"Overview\",\"link\":\"/api/\"},{\"text\":\"OpenAPI Specification\",\"link\":\"/api/openapi\"},{\"text\":\"Interactive Explorer\",\"link\":\"/api/explorer.html\",\"target\":\"_blank\"},{\"text\":\"Authentication Endpoints\",\"link\":\"/api/endpoints/authentication\"},{\"text\":\"Bug Management\",\"link\":\"/api/endpoints/bugs\"},{\"text\":\"Company Management\",\"link\":\"/api/endpoints/companies\"},{\"text\":\"Admin Endpoints\",\"link\":\"/api/endpoints/admin\"},{\"text\":\"Logging Endpoints\",\"link\":\"/api/endpoints/logs\"}]},{\"text\":\"Examples\",\"items\":[{\"text\":\"Request Examples\",\"link\":\"/api/examples/\"},{\"text\":\"Response Examples\",\"link\":\"/api/examples/responses\"}]}],\"/models/\":[{\"text\":\"Data Models\",\"items\":[{\"text\":\"Overview\",\"link\":\"/models/\"},{\"text\":\"Model Documentation\",\"link\":\"/models/data-models\"},{\"text\":\"Relationships\",\"link\":\"/models/relationships\"},{\"text\":\"JSON Schemas\",\"link\":\"/models/schemas\"}]}],\"/authentication/\":[{\"text\":\"Authentication\",\"items\":[{\"text\":\"Overview\",\"link\":\"/authentication/\"},{\"text\":\"Authentication Flows\",\"link\":\"/authentication/flows\"},{\"text\":\"JWT Implementation\",\"link\":\"/authentication/jwt\"},{\"text\":\"OAuth Integration\",\"link\":\"/authentication/oauth\"},{\"text\":\"Security Considerations\",\"link\":\"/authentication/security\"}]}],\"/deployment/\":[{\"text\":\"Deployment\",\"items\":[{\"text\":\"Overview\",\"link\":\"/deployment/\"},{\"text\":\"Configuration\",\"link\":\"/deployment/configuration\"},{\"text\":\"Setup Guide\",\"link\":\"/deployment/setup\"},{\"text\":\"Docker Deployment\",\"link\":\"/deployment/docker\"},{\"text\":\"Monitoring\",\"link\":\"/deployment/monitoring\"}]}],\"/guides/\":[{\"text\":\"Guides\",\"items\":[{\"text\":\"Quick Start\",\"link\":\"/guides/quick-start\"},{\"text\":\"Integration Examples\",\"link\":\"/guides/integration-examples\"},{\"text\":\"Troubleshooting\",\"link\":\"/guides/troubleshooting\"}]}],\"/mcp/\":[{\"text\":\"MCP Integration\",\"items\":[{\"text\":\"Overview\",\"link\":\"/mcp/\"},{\"text\":\"Tool Definitions\",\"link\":\"/mcp/tools\"},{\"text\":\"Server Implementation\",\"link\":\"/mcp/server\"},{\"text\":\"Schemas\",\"link\":\"/mcp/schemas\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/your-org/bugrelay\"}],\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"Search docs\",\"buttonAriaLabel\":\"Search docs\"},\"modal\":{\"noResultsText\":\"No results for\",\"resetButtonTitle\":\"Clear search\",\"footer\":{\"selectText\":\"to select\",\"navigateText\":\"to navigate\",\"closeText\":\"to close\"}}}}}}},\"editLink\":{\"pattern\":\"https://github.com/your-org/bugrelay/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2024 BugRelay\"},\"returnToTopLabel\":\"Return to top\",\"outline\":{\"level\":[2,3],\"label\":\"On this page\"},\"appearance\":\"dark\",\"logo\":\"/logo.svg\",\"customCss\":[\".vitepress/theme/custom.css\"]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>